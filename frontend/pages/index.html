<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FAGO - Book Your Dream Stay Today</title>
  <link rel="stylesheet" href="../public/css/style.css">
  <link rel="stylesheet" href="../public/css/skeleton.css">
  <link rel="stylesheet" href="../public/css/auth-navbar.css">
  <link rel="stylesheet" href="../public/css/homepage-animations.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css">
</head>
<body>
  <!-- Header / Navbar -->
  <header class="navbar animate-fade-in">
    <div class="nav-container">
      <div class="logo">
        <h2>FAGO</h2>
      </div>
      
      <nav class="nav-links">
        <a href="/" class="animate-slide-in" style="animation-delay: 0.1s">Home</a>
        <a href="/hotels" class="animate-slide-in" style="animation-delay: 0.2s">Hotels</a>
        <a href="/deals" class="animate-slide-in" style="animation-delay: 0.3s">Deals</a>
        <a href="/about" class="animate-slide-in" style="animation-delay: 0.4s">About</a>
        <a href="/contact" class="animate-slide-in" style="animation-delay: 0.5s">Contact</a>
      </nav>
      
      <div class="nav-auth">
        <a href="/login" class="login-btn animate-slide-in" style="animation-delay: 0.6s">Login / Sign Up</a>
      </div>
      
      <div class="mobile-menu" id="mobile-menu">
        <i class="fas fa-bars"></i>
      </div>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="hero" id="hero">
    <div class="hero-overlay"></div>
    <div class="hero-content">
      <h1 class="animate-fade-up">Book Your Dream Stay Today</h1>
      <p class="hero-subtitle animate-fade-up" style="animation-delay: 0.3s">Find hotels, resorts, and apartments at the best prices</p>
      
      <!-- Search Bar -->
      <div class="search-container animate-slide-up" style="animation-delay: 0.6s">
        <form class="search-form" action="/hotels" method="GET">
          <div class="search-grid">
            <div class="search-field">
              <i class="fas fa-map-marker-alt"></i>
              <input type="text" name="destination" placeholder="Destination" required>
            </div>
            <div class="search-field">
              <i class="fas fa-calendar-alt"></i>
              <input type="date" name="checkin" id="checkin" required>
            </div>
            <div class="search-field">
              <i class="fas fa-calendar-alt"></i>
              <input type="date" name="checkout" id="checkout" required>
            </div>
            <div class="search-field">
              <i class="fas fa-users"></i>
              <select name="guests">
                <option value="1">1 Guest</option>
                <option value="2">2 Guests</option>
                <option value="3">3 Guests</option>
                <option value="4">4+ Guests</option>
              </select>
            </div>
            <button type="submit" class="search-btn">Search Hotels</button>
          </div>
        </form>
      </div>
      
      <a href="/hotels" class="cta-btn animate-fade-up" style="animation-delay: 0.9s">Explore Hotels</a>
    </div>
  </section>

  <!-- Featured Hotels -->
  <section class="featured-section">
    <div class="container">
      <h2 class="section-title" data-aos="fade-up">Featured Hotels</h2>
      <div class="hotels-grid skeleton-container" id="hotels-grid">
        <!-- Hotels loaded by JS -->
      </div>
    </div>
  </section>

  <!-- Deals & Offers -->
  <section class="deals-section" id="deals">
    <div class="container">
      <h2 class="section-title" data-aos="fade-up">Deals & Offers</h2>
      <div class="deals-carousel" data-aos="fade-up" data-aos-delay="200">
        <div class="deal-card" data-aos="slide-right" data-aos-delay="100">
          <div class="deal-badge">50% OFF</div>
          <h3>Weekend Stays</h3>
          <p>Perfect for short breaks and city escapes</p>
          <button class="deal-btn">Book Now</button>
        </div>
        <div class="deal-card" data-aos="slide-right" data-aos-delay="200">
          <div class="deal-badge">COUPLES</div>
          <h3>Romantic Package</h3>
          <p>Special deals for couples and honeymoons</p>
          <button class="deal-btn">Book Now</button>
        </div>
        <div class="deal-card" data-aos="slide-right" data-aos-delay="300">
          <div class="deal-badge">EARLY BIRD</div>
          <h3>Book in Advance</h3>
          <p>Save more when you plan ahead</p>
          <button class="deal-btn">Book Now</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Why Choose Us -->
  <section class="trust-section">
    <div class="container">
      <h2 class="section-title" data-aos="fade-up">Why Choose Us</h2>
      <div class="trust-grid">
        <div class="trust-item" data-aos="zoom-in" data-aos-delay="100">
          <div class="trust-icon">
            <i class="fas fa-hotel"></i>
          </div>
          <h3>10,000+ Hotels Worldwide</h3>
          <p>Extensive selection across the globe</p>
        </div>
        <div class="trust-item" data-aos="zoom-in" data-aos-delay="200">
          <div class="trust-icon">
            <i class="fas fa-credit-card"></i>
          </div>
          <h3>Secure Payment</h3>
          <p>Your transactions are safe with us</p>
        </div>
        <div class="trust-item" data-aos="zoom-in" data-aos-delay="300">
          <div class="trust-icon">
            <i class="fas fa-clock"></i>
          </div>
          <h3>24/7 Support</h3>
          <p>Round-the-clock customer assistance</p>
        </div>
        <div class="trust-item" data-aos="zoom-in" data-aos-delay="400">
          <div class="trust-icon">
            <i class="fas fa-star"></i>
          </div>
          <h3>Trusted by Travelers</h3>
          <p>Millions of satisfied customers</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials -->
  <section class="testimonials-section">
    <div class="container">
      <h2 class="section-title" data-aos="fade-up">What Our Customers Say</h2>
      <div class="testimonials-slider" data-aos="fade-up" data-aos-delay="200">
        <div class="testimonial-card active">
          <div class="stars">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
          </div>
          <p>"Amazing service and great hotels. The booking process was seamless and the customer support was outstanding!"</p>
          <div class="reviewer">
            <img src="https://images.unsplash.com/photo-1494790108755-2616b612b786?w=60&h=60&fit=crop&crop=face" alt="Sarah">
            <div>
              <span class="name">Sarah Johnson</span>
              <span class="location">New York, USA</span>
            </div>
          </div>
        </div>
        <div class="slider-controls">
          <button class="slider-btn prev"><i class="fas fa-chevron-left"></i></button>
          <div class="slider-dots">
            <span class="dot active"></span>
            <span class="dot"></span>
            <span class="dot"></span>
          </div>
          <button class="slider-btn next"><i class="fas fa-chevron-right"></i></button>
        </div>
      </div>
    </div>
  </section>

  <!-- Newsletter CTA -->
  <section class="newsletter-cta" data-aos="fade-up">
    <div class="container">
      <div class="newsletter-content">
        <h2>Want exclusive travel deals? Subscribe now!</h2>
        <p>Get the best offers delivered straight to your inbox</p>
        <form class="newsletter-form">
          <input type="email" placeholder="Enter your email address" class="newsletter-input">
          <button type="submit" class="newsletter-btn">Subscribe</button>
        </form>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h3>FAGO</h3>
          <p>Your trusted partner for hotel bookings worldwide.</p>
        </div>
        <div class="footer-section">
          <h4>Company</h4>
          <a href="#about">About Us</a>
          <a href="#careers">Careers</a>
          <a href="#faqs">FAQs</a>
          <a href="/contact">Contact</a>
        </div>
        <div class="footer-section">
          <h4>Follow Us</h4>
          <div class="social-links">
            <a href="#"><i class="fab fa-facebook"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-linkedin"></i></a>
          </div>
        </div>
        <div class="footer-section">
          <h4>Newsletter</h4>
          <form class="newsletter-form">
            <input type="email" placeholder="Your email">
            <button type="submit">Subscribe</button>
          </form>
        </div>
      </div>
    </div>
  </footer>

  <script src="../public/js/api-config.js"></script>
  <script src="../public/js/lazy-loading.js"></script>
  <script src="../components/hotel-card.js"></script>
  <script>
    // Random vacation background images
    const vacationImages = [
      'https://images.unsplash.com/photo-1571003123894-1f0594d2b5d9?w=1920&h=1080&fit=crop',
      'https://images.unsplash.com/photo-1566073771259-6a8506099945?w=1920&h=1080&fit=crop',
      'https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?w=1920&h=1080&fit=crop',
      'https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?w=1920&h=1080&fit=crop',
      'https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?w=1920&h=1080&fit=crop'
    ];

    // Initialize page
    document.addEventListener('DOMContentLoaded', async () => {
      await loadHotels();
      initMobileMenu();
      initSearchForm();
      initTestimonialSlider();
      setTimeout(updateNavbarAuth, 100);
      
      // Initialize AOS
      AOS.init({
        duration: 800,
        easing: 'ease-out',
        once: true,
        offset: 100
      });
    });

    // Load hotels with staggered animation
    async function loadHotels() {
      const grid = document.getElementById('hotels-grid');
      
      // Show skeletons while loading
      showSkeletons(grid, 'hotel-card', 4);
      
      try {
        const hotels = await fetchHotels();
        
        // Simulate loading delay for better UX
        await new Promise(resolve => setTimeout(resolve, 600));
        
        const hotelCards = hotels.slice(0, 4).map((hotel, index) => {
          const card = createHotelCard(hotel);
          return `<div data-aos="fade-up" data-aos-delay="${index * 100}">${card}</div>`;
        }).join('');
        
        hideSkeletons(grid, hotelCards);
      } catch (error) {
        hideSkeletons(grid, '<p class="error-message">Failed to load hotels</p>');
      }
    }

    // Mobile menu
    function initMobileMenu() {
      createMobileSidebar();
      
      document.getElementById('mobile-menu').addEventListener('click', openSidebar);
      document.querySelector('.sidebar-close').addEventListener('click', closeSidebar);
      document.querySelector('.sidebar-overlay').addEventListener('click', closeSidebar);
    }
    
    function createMobileSidebar() {
      const sidebarHTML = `
        <div class="sidebar-overlay"></div>
        <div class="mobile-sidebar">
          <div class="sidebar-header">
            <h3>FAGO</h3>
            <button class="sidebar-close"><i class="fas fa-times"></i></button>
          </div>
          <nav class="sidebar-nav">
            <a href="/">Home</a>
            <a href="/hotels">Hotels</a>
            <a href="/deals">Deals</a>
            <a href="/about">About</a>
            <a href="/contact">Contact</a>
          </nav>
          <div class="sidebar-auth">
            <a href="/login" class="login-btn">Login / Sign Up</a>
          </div>
        </div>
      `;
      document.body.insertAdjacentHTML('beforeend', sidebarHTML);
    }
    
    function openSidebar() {
      document.querySelector('.sidebar-overlay').classList.add('active');
      document.querySelector('.mobile-sidebar').classList.add('active');
      document.body.style.overflow = 'hidden';
    }
    
    function closeSidebar() {
      document.querySelector('.sidebar-overlay').classList.remove('active');
      document.querySelector('.mobile-sidebar').classList.remove('active');
      document.body.style.overflow = '';
    }

    // Search form
    function initSearchForm() {
      const today = new Date().toISOString().split('T')[0];
      document.getElementById('checkin').min = today;
      document.getElementById('checkout').min = today;
      
      document.getElementById('checkin').addEventListener('change', function() {
        document.getElementById('checkout').min = this.value;
      });
    }

    // Testimonial slider
    function initTestimonialSlider() {
      const testimonials = [
        {
          text: "Amazing service and great hotels. The booking process was seamless and the customer support was outstanding!",
          name: "Sarah Johnson",
          location: "New York, USA",
          image: "https://images.unsplash.com/photo-1494790108755-2616b612b786?w=60&h=60&fit=crop&crop=face"
        },
        {
          text: "Best booking experience ever. Found incredible deals and the hotels exceeded my expectations!",
          name: "Mike Chen",
          location: "Los Angeles, USA",
          image: "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=60&h=60&fit=crop&crop=face"
        },
        {
          text: "Fantastic deals and excellent customer support. Will definitely use FAGO for all my future travels!",
          name: "Emma Davis",
          location: "London, UK",
          image: "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=60&h=60&fit=crop&crop=face"
        }
      ];
      
      let currentSlide = 0;
      const card = document.querySelector('.testimonial-card');
      const dots = document.querySelectorAll('.dot');
      
      function updateSlide() {
        const testimonial = testimonials[currentSlide];
        card.innerHTML = `
          <div class="stars">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
          </div>
          <p>"${testimonial.text}"</p>
          <div class="reviewer">
            <img src="${testimonial.image}" alt="${testimonial.name}">
            <div>
              <span class="name">${testimonial.name}</span>
              <span class="location">${testimonial.location}</span>
            </div>
          </div>
        `;
        
        dots.forEach((dot, index) => {
          dot.classList.toggle('active', index === currentSlide);
        });
      }
      
      document.querySelector('.next').addEventListener('click', () => {
        currentSlide = (currentSlide + 1) % testimonials.length;
        updateSlide();
      });
      
      document.querySelector('.prev').addEventListener('click', () => {
        currentSlide = (currentSlide - 1 + testimonials.length) % testimonials.length;
        updateSlide();
      });
      
      dots.forEach((dot, index) => {
        dot.addEventListener('click', () => {
          currentSlide = index;
          updateSlide();
        });
      });
      
      // Auto-slide every 5 seconds
      setInterval(() => {
        currentSlide = (currentSlide + 1) % testimonials.length;
        updateSlide();
      }, 5000);
    }

    // Sticky navbar
    window.addEventListener('scroll', () => {
      const navbar = document.querySelector('.navbar');
      if (window.scrollY > 100) {
        navbar.classList.add('sticky');
      } else {
        navbar.classList.remove('sticky');
      }
    });
  </script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="../public/js/auth-navbar.js"></script>
</body>
</html>